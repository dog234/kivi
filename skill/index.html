<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.58">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" href="./images/dimo.png"><title> | 插件官网 1.0.0</title><meta name="description" content="Kivibot插件官网，丰富的插件内容与开发技巧，助力开发者成长！">
    <link rel="preload" href="/assets/style-6fb018bf.css" as="style"><link rel="stylesheet" href="/assets/style-6fb018bf.css">
    <link rel="modulepreload" href="/assets/app-d9847c20.js"><link rel="modulepreload" href="/assets/framework-7e1a102e.js"><link rel="modulepreload" href="/assets/index.html-3f60037c.js"><link rel="modulepreload" href="/assets/index.html-639bd531.js"><link rel="prefetch" href="/assets/index.html-535898b7.js" as="script"><link rel="prefetch" href="/assets/index.html-359ec7f9.js" as="script"><link rel="prefetch" href="/assets/index.html-f5a7d33c.js" as="script"><link rel="prefetch" href="/assets/index.html-da1eb798.js" as="script"><link rel="prefetch" href="/assets/404.html-60b35caa.js" as="script"><link rel="prefetch" href="/assets/index.html-cb1d62b3.js" as="script"><link rel="prefetch" href="/assets/index.html-bacffca4.js" as="script"><link rel="prefetch" href="/assets/index.html-722de126.js" as="script"><link rel="prefetch" href="/assets/index.html-bda2d5c2.js" as="script"><link rel="prefetch" href="/assets/404.html-f9e8d259.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><img class="logo" src="/images/logo.png" alt="插件官网 1.0.0"><span class="site-name can-hide">插件官网 1.0.0</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a class="external-link" href="https://beta.kivibot.com/develop/prerequisite.html" rel="noopener noreferrer" target="_blank" aria-label="开发文档"><!--[--><!--]--> 开发文档 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://qm.qq.com/cgi-bin/qm/qr?k=jgfQoTN27sWSkHnoIjSw2hHdi3sdBsC1&amp;jump_from=webapi&amp;authKey=774yOQdROLh8HjFnJNpIiElkZE+p3J37aHXTnaCcrRXBGH0n2rt8INktbU6Cm8Qa" rel="noopener noreferrer" target="_blank" aria-label="官方Q群"><!--[--><!--]--> 官方Q群 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://beta.kivibot.com/intro.html" rel="noopener noreferrer" target="_blank" aria-label="Kivibot"><!--[--><!--]--> Kivibot <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" placeholder="Search" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a class="external-link" href="https://beta.kivibot.com/develop/prerequisite.html" rel="noopener noreferrer" target="_blank" aria-label="开发文档"><!--[--><!--]--> 开发文档 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://qm.qq.com/cgi-bin/qm/qr?k=jgfQoTN27sWSkHnoIjSw2hHdi3sdBsC1&amp;jump_from=webapi&amp;authKey=774yOQdROLh8HjFnJNpIiElkZE+p3J37aHXTnaCcrRXBGH0n2rt8INktbU6Cm8Qa" rel="noopener noreferrer" target="_blank" aria-label="官方Q群"><!--[--><!--]--> 官方Q群 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://beta.kivibot.com/intro.html" rel="noopener noreferrer" target="_blank" aria-label="Kivibot"><!--[--><!--]--> Kivibot <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><a href="/" class="sidebar-item sidebar-heading" aria-label="关于网站"><!--[--><!--]--> 关于网站 <!--[--><!--]--></a><!----></li><li><a href="/new/" class="sidebar-item sidebar-heading" aria-label="插件列表"><!--[--><!--]--> 插件列表 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/skill/" class="router-link-active router-link-exact-active router-link-active sidebar-item sidebar-heading active" aria-label="开发入门"><!--[--><!--]--> 开发入门 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/skill/#前置知识" class="router-link-active router-link-exact-active sidebar-item" aria-label="前置知识"><!--[--><!--]--> 前置知识 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/skill/#javascript" class="router-link-active router-link-exact-active sidebar-item" aria-label="Javascript"><!--[--><!--]--> Javascript <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/skill/#npm-模块" class="router-link-active router-link-exact-active sidebar-item" aria-label="npm 模块"><!--[--><!--]--> npm 模块 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/skill/#api-接口" class="router-link-active router-link-exact-active sidebar-item" aria-label="API(接口)"><!--[--><!--]--> API(接口) <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/skill/#创建插件" class="router-link-active router-link-exact-active sidebar-item" aria-label="创建插件"><!--[--><!--]--> 创建插件 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/skill/#插件模版" class="router-link-active router-link-exact-active sidebar-item" aria-label="插件模版"><!--[--><!--]--> 插件模版 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/skill/#判断首字符" class="router-link-active router-link-exact-active sidebar-item" aria-label="判断首字符"><!--[--><!--]--> 判断首字符 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/skill/#发送图文" class="router-link-active router-link-exact-active sidebar-item" aria-label="发送图文"><!--[--><!--]--> 发送图文 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/push/" class="sidebar-item sidebar-heading" aria-label="发布插件"><!--[--><!--]--> 发布插件 <!--[--><!--]--></a><!----></li><li><a href="/api/" class="sidebar-item sidebar-heading" aria-label="框架API"><!--[--><!--]--> 框架API <!--[--><!--]--></a><!----></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><div class="custom-container tip"><p class="custom-container-title">开发入门</p><p>为了提高整体素质，以及使更多人能够学会<strong>开发自己想要的插件</strong>，这个栏目将以<strong>最最新手的标准</strong>教会你自定义自己的插件！</p></div><p>入门教程采取<a href="#">案例+分析</a>的教学模式，<strong>在实践中学习，快速成长。</strong></p><h2 id="前置知识" tabindex="-1"><a class="header-anchor" href="#前置知识" aria-hidden="true">#</a> 前置知识</h2><p>要想学习好编写插件，<strong>第一步</strong>应有</p><ul><li>基础的Javascript知识</li><li>理解npm模块并学会使用</li></ul><p><strong>⚠️注意</strong>：前置知识很重要！不牢固将影响插件的开发！</p><blockquote><p>接下来，将对前置知识进行&lt;透析&gt;</p></blockquote><h3 id="javascript" tabindex="-1"><a class="header-anchor" href="#javascript" aria-hidden="true">#</a> Javascript</h3><hr><p>想必你已经知道，<a href="#">kivibot框架</a>基于<a href="#">node.js</a>，那node.js与js(Javascript)有什么区别呢？</p><ul><li>第一，node.js是平台，js是编程语言</li><li>第二，js只在浏览器运行，而node.js为js提供服务器平台，从而脱离浏览器。</li></ul><p><strong>了解区别后，我们接下来学习javascript这门编程语言：</strong><br></p><ul><li>如果你只是<strong>基础开发</strong>，你可以选择<strong>下列教程</strong>:<br><a href="https://zh.javascript.info/" target="_blank" rel="noopener noreferrer">现代JavaScript教程<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>（推荐） <br>或<a href="https://www.bilibili.com/video/BV1ux411d75J?p=1" target="_blank" rel="noopener noreferrer">bilibili黑马程序员<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>（视频）</li></ul><blockquote><p>并且你只需要了解：数据类型，变量，常量和函数(+箭头函数)的定义，if,while,switch等函数的使用，数组，对象的属性方法等，剩下的<code>必应/谷歌</code>搜索即可。如果你不懂某些语法，可以查找英文意思。</p></blockquote><ul><li><strong>深入开发</strong>:你可以学习<a href="https://es6.ruanyifeng.com/" target="_blank" rel="noopener noreferrer">ES6入门教程<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>，ES7，ES8，以及TypeScript编写插件。</li></ul><blockquote><p>ES 指的是 ECMAScript，JavaScript 的语言标准。TypeScript 是 JavaScript 的一个超集，支持 ECMAScript 6 标准。</p></blockquote><p>请确保你掌握JavaScript基础知识后，再继续观看接下来的内容。</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">//巩固对象知识</span>
<span class="token comment">//JavaScript 中的所有事物都是对象：字符串、数值、数组、函数...</span>
<span class="token comment">//对象拥有`属性`和`方法`,访问对象需要用到`.`，下面演示String对象:</span>
<span class="token keyword">var</span> a<span class="token operator">=</span><span class="token string">&#39;Hello Kivibot!&#39;</span>
<span class="token comment">//那么a.length == 15，length即为a的属性</span>
<span class="token comment">//那么a.slice(1) == &#39;ello Kivibot!&#39;，slice()即为a的方法/函数</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="npm-模块" tabindex="-1"><a class="header-anchor" href="#npm-模块" aria-hidden="true">#</a> npm 模块</h3><hr><p><a href="#npm%E6%A8%A1%E5%9D%97">npm（“Node 包管理器”）</a>是 JavaScript 运行时 Node.js 的默认<strong>程序包(模块)管理器</strong>。 <br>你可以把npm理解为一个存储很多模块(软件包)的仓库。</p><blockquote><p><strong>npm组成</strong>：</p><ul><li><a href="https://www.npmjs.com/" target="_blank" rel="noopener noreferrer">npm官网<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>（发布和搜索模块的网站）</li><li>注册表（巨大的数据库）</li><li>命令行工具/终端</li></ul></blockquote><p>npm模块的实质是将代码<code>模块化</code>，使用模块可以<strong>简化你的操作，直接实现某些功能。</strong></p><p>例如我开发了一个“吃饭”模块并上传到了<a href="https://www.npmjs.com/" target="_blank" rel="noopener noreferrer">npm官网<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>,你若想要使用模块，需要用<strong>命令行工具/终端</strong> 输入:</p><div class="language-cmd line-numbers-mode" data-ext="cmd"><pre class="language-cmd"><code>npm i -D 吃饭
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>这里的<code>npm</code>是必须要带的，因为你使用的是npm管理器。</li><li><code>i</code>是install的缩写，意为安装。</li><li><code>-D</code>是指本地安装(默认，你也可以不输入)，<code>-g</code>是全局安装，正如你安装kivibot框架(模块)，其中的命令就包含了-g。</li></ul><p>输入后，npm模块会被安装在当前目录下的<code>node_modules</code>目录下，如Kivibot框架下就有该目录，里面有内置的模块，例如<code>oicq</code>,<code>axios</code>等。</p><p>最后就需要在js文件里引入(require)了,它通常放在文件的开头:</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> eat <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;吃饭&quot;</span><span class="token punctuation">)</span>
<span class="token comment">//这只是CommonJS规范的引入方式,其他的可自行搜索</span>
<span class="token comment">//接下来便可以通过eat，来访问方法。</span>
eat<span class="token punctuation">.</span><span class="token function">do</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="api-接口" tabindex="-1"><a class="header-anchor" href="#api-接口" aria-hidden="true">#</a> API(接口)</h3><hr><p><a href="#api%E6%8E%A5%E5%8F%A3">API</a>（Application Programming Interface, 应用程序编程接口）是一些<strong>预先定义</strong>的<code>函数</code>。</p><blockquote><p>例如你<strong>想要给</strong>viki送篮球，你必须<strong>先给</strong>小明送篮球，让小明把篮球给小蔡，<strong>最后</strong>小蔡把篮球给viki。而别人已经写好了<strong>连续送篮球</strong>的<code>函数</code>，你只需要调用这个<code>函数</code>，就可以直接把篮球送到viki手里，这就是API(接口)。</p></blockquote><p><strong>Kivibot就有很多的API，以便更快实现某功能：</strong></p><ul><li><a href="https://beta.kivibot.com/api/plugin.html" target="_blank" rel="noopener noreferrer">KiviPlugin API<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://oicqjs.github.io/oicq/" target="_blank" rel="noopener noreferrer">Oicq API<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul><p>这时候解释一下，<strong>Kivibot是依靠Oicq API来编写的框架</strong>，意思是实现框架离不开Oicq，编写插件中同样可以使用Oicq API。<strong>请以官方API为主，Oicq API为辅。</strong></p><h2 id="创建插件" tabindex="-1"><a class="header-anchor" href="#创建插件" aria-hidden="true">#</a> 创建插件</h2><p>接下来将带领你创建你的第一个插件，<br> 请<strong>确保已经安装好<a href="https://beta.kivibot.com/intro.html" target="_blank" rel="noopener noreferrer">Kivibot框架<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>。</strong></p><h3 id="插件模版" tabindex="-1"><a class="header-anchor" href="#插件模版" aria-hidden="true">#</a> 插件模版</h3><hr><p>打开你部署框架的文件夹所在<code>终端</code>，输入:</p><div class="language-cmd line-numbers-mode" data-ext="cmd"><pre class="language-cmd"><code>kivi create
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>创建官方提供的(Js)插件模版，</strong> 会在plugins &gt; demo下生成<strong>index.js文件</strong>，<br><strong>请先观看<a href="https://beta.kivibot.com/api/plugin.html" target="_blank" rel="noopener noreferrer">Kivibot API<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>再继续以下内容：（附有注释）</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> KiviPlugin <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;@kivibot/core&#39;</span><span class="token punctuation">)</span><span class="token comment">//必须要引入的模块</span>

<span class="token keyword">const</span> plugin <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">KiviPlugin</span><span class="token punctuation">(</span><span class="token string">&#39;demo&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;0.1.0&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">enableGroups</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">123456</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token comment">//生成plugin对象，请默认用plugin命名</span>

plugin<span class="token punctuation">.</span><span class="token function">onMounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">bot<span class="token punctuation">,</span> admins</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
<span class="token comment">//(参数)=&gt;{内容} 为箭头函数</span>
<span class="token comment">//插件被启用后，将执行以下函数，插件功能务必写在plugin.onMounted()内</span>
  plugin<span class="token punctuation">.</span><span class="token function">onMessage</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">event<span class="token punctuation">,</span> params</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>event<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">&#39;hello&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      event<span class="token punctuation">.</span><span class="token function">reply</span><span class="token punctuation">(</span><span class="token string">&#39;world&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token comment">//如果接受到消息为hello，回复world。注：这里的event.reply()函数会经常用到！可在接受消息后，在消息来源处直接回复。</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">//后面的自行看KiviPlugin API了解</span>
  plugin<span class="token punctuation">.</span><span class="token function">onCmd</span><span class="token punctuation">(</span><span class="token string">&#39;/cmd&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">event<span class="token punctuation">,</span> params<span class="token punctuation">,</span> options</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    event<span class="token punctuation">.</span><span class="token function">reply</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  plugin<span class="token punctuation">.</span><span class="token function">onCmd</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;cmd1&#39;</span><span class="token punctuation">,</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^cmd2</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">event<span class="token punctuation">,</span> params<span class="token punctuation">,</span> options</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    event<span class="token punctuation">.</span><span class="token function">reply</span><span class="token punctuation">(</span><span class="token string">&#39;cmd1 or /cmd2/i trigger!&#39;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  plugin<span class="token punctuation">.</span><span class="token function">onAdminCmd</span><span class="token punctuation">(</span><span class="token string">&#39;/adminCmd&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">event<span class="token punctuation">,</span> params<span class="token punctuation">,</span> options</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    event<span class="token punctuation">.</span><span class="token function">reply</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  plugin<span class="token punctuation">.</span><span class="token function">onMatch</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">morning</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">,</span> <span class="token string">&#39;evening&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    event<span class="token punctuation">.</span><span class="token function">reply</span><span class="token punctuation">(</span><span class="token string">&#39;you too&#39;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  plugin<span class="token punctuation">.</span><span class="token function">cron</span><span class="token punctuation">(</span><span class="token string">&#39;0,10,20,30,40,50 * * * * *&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">bot</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    bot<span class="token punctuation">.</span><span class="token function">sendPrivateMsg</span><span class="token punctuation">(</span>plugin<span class="token punctuation">.</span>mainAdmin<span class="token punctuation">,</span> <span class="token string">&#39;cron task trigger!&#39;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  plugin<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&#39;message.private&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    event<span class="token punctuation">.</span><span class="token function">reply</span><span class="token punctuation">(</span><span class="token string">&#39;Hi, I am KiviBot.&#39;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token comment">//接收私人消息(message.private)，也可以接受群组消息(message.group),更多可在API文档找到。</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span> plugin <span class="token punctuation">}</span>
<span class="token comment">//导出plugin对象，请一定要导出！</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="判断首字符" tabindex="-1"><a class="header-anchor" href="#判断首字符" aria-hidden="true">#</a> <em>判断首字符</em></h2><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">if</span><span class="token punctuation">(</span>raw_message<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">&#39;点歌&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//执行代码</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="发送图文" tabindex="-1"><a class="header-anchor" href="#发送图文" aria-hidden="true">#</a> <em>发送图文</em></h2><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span><span class="token punctuation">{</span>segment<span class="token punctuation">}</span><span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;oicq&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> img <span class="token operator">=</span>segment<span class="token punctuation">.</span><span class="token function">image</span><span class="token punctuation">(</span>https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> msg <span class="token operator">=</span><span class="token string">&#39;xxx&#39;</span>
event<span class="token punctuation">.</span><span class="token function">reply</span><span class="token punctuation">(</span><span class="token punctuation">[</span>img<span class="token punctuation">,</span>msg<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!--[--><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: 106546046+dog234@users.noreply.github.com">dog234</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" title="email: “1706328818@qq.com”">“dog234”</span><!----><!--]--><!--]--></span></div></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="/new/" class="" aria-label="插件列表"><!--[--><!--]--> 插件列表 <!--[--><!--]--></a></span><span class="next"><a href="/push/" class="" aria-label="发布插件"><!--[--><!--]--> 发布插件 <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/assets/app-d9847c20.js" defer></script>
  </body>
</html>
